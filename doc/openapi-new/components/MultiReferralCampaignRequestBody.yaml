nelmio_api_doc:
  documentation:
    components:
      schemas:
        MultiReferralCampaignRequestBody:
          title: MultiReferralCampaign
          description: When campaign is referral type, you can specify multi level
          required:
          - campaign
          properties:
            campaign:
              required:
              - multiLevel
              - type
              - trigger
              - translations
              - activity
              - rules
              properties:
                triggerStrategy:
                  $ref: '#/components/schemas/TriggerStrategy'
                visibility:
                  $ref: '#/components/schemas/Visibility'
                audience:
                  $ref: '#/components/schemas/Audience'
                rules:
                  $ref: '#/components/schemas/Rule'
                transactionItemsFilters:
                  description: Field that you can use to filter transaction items, which you can then use in the condition by providing the code, only allowed for transaction trigger
                  type: array
                  items:
                    $ref: '#/components/schemas/TransactionItemsFilters'
                limits:
                  $ref: '#/components/schemas/Limit'
                type:
                  type: string
                  enum:
                  - direct
                  - referral
                multiLevel:
                  type: number
                  example: 2
                trigger:
                  type: string
                  enum:
                  - transaction
                  - return_transaction
                  - custom_event
                  - internal_event
                  - time
                  - achievement
                  - custom_event_unique_code
                event:
                  type: string
                activity:
                  required:
                  - startsAt
                  properties:
                    startsAt:
                      type: string
                      example: 2024-09-17 '00':00+02:00
                    endsAt:
                      type: string
                      example: 2024-09-17 '00':00+02:00
                      nullable: true
                  type: object
                displayOrder:
                  type: number
                  example: 1
                active:
                  type: boolean
                labels:
                  type: array
                  items:
                    required:
                    - key
                    - value
                    properties:
                      key:
                        type: string
                      value:
                        type: string
                    type: object
                memberFilter:
                  description: Only allowed for time trigger
                  properties:
                    strategy: {}
                  type: object
                translations:
                  $ref: '#/components/schemas/CampaignTranslations'
              type: object
              additionalProperties: false
          type: object
          additionalProperties: false

