nelmio_api_doc:
  documentation:
    components:
      schemas:
        WebhookCampaign:
          required:
          - triggerType
          - campaignId
          - name
          properties:
            triggerType:
              enum:
              - transaction
              - custom_event
              - internal_event
              - achievement
              - return_transaction
              - custom_event_unique_code
            campaignId:
              type: string
            name:
              type: string
            trigger:
              required:
              - type
              properties:
                triggerId:
                  type: string
                  format: uuid
                createdAt:
                  type: string
                  format: date-time
              type: object
              oneOf:
              - required:
                - purchasedAt
                - documentNumber
                - createdAt
                - triggerId
                properties:
                  type:
                    type: string
                    enum:
                    - transaction
                  purchasedAt:
                    type: string
                    format: date-time
                  documentNumber:
                    type: string
                type: object
              - required:
                - eventDate
                - createdAt
                - triggerId
                properties:
                  type:
                    type: string
                    enum:
                    - custom_event
                  eventDate:
                    type: string
                    format: date-time
                  eventId:
                    type: string
                type: object
              - required:
                - payload
                - triggerId
                properties:
                  type:
                    type: string
                    enum:
                    - internal_event
                  payload:
                    type: object
                    additionalProperties: true
                type: object
              - required:
                - triggerId
                properties:
                  type:
                    type: string
                    enum:
                    - custom_event_unique_code
                type: object
              - required:
                - triggerId
                - relatedAchievement
                properties:
                  type:
                    type: string
                    enum:
                    - achievement
                  relatedAchievement:
                    $ref: '#/components/schemas/RelatedAchievement'
                type: object
              - properties:
                  type:
                    type: string
                    enum:
                    - return_transaction
                type: object
          type: object

