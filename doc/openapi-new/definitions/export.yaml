nelmio_api_doc:
  documentation:
    paths:
      /api/{storeCode}/export/{export}:
        get:
          tags:
          - Export
          summary: Get export details
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: exportGet
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - $ref: '#/components/parameters/export'
          responses:
            "'200'":
              description: Export details
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/Export'
            "'401'":
              description: ""
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
            "'404'":
              $ref: '#/components/responses/NotFound'
      /api/{storeCode}/export/{export}/download:
        get:
          tags:
          - Export
          summary: Download an export
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: exportGetDownload
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - $ref: '#/components/parameters/export'
          responses:
            "'200'":
              description: CSV File
              content:
                text/csv:
                  schema:
                    type: string
            "'401'":
              description: ""
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
      /api/{storeCode}/export:
        get:
          tags:
          - Export
          summary: Get exports lists
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: exportGetList
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - name: exportId
            in: query
            required: false
            schema:
              type: string
              format: uuid
          - name: type
            in: query
            required: false
            schema:
              type: string
              enum:
              - campaignCode
              - member
              - memberTier
              - memberSegment
              - rewardFulfillment
          - name: status
            in: query
            required: false
            schema:
              type: string
              enum:
              - pending
              - done
              - failed
              - error
          - name: message
            in: query
            required: false
            schema:
              type: string
          - name: createdAt
            in: query
            required: false
            schema:
              type: string
              format: date-time
          - $ref: '#/components/parameters/page'
          - $ref: '#/components/parameters/itemsOnPage'
          - $ref: '#/components/parameters/orderBy'
          responses:
            "'200'":
              description: List of exports
              content:
                application/json:
                  schema:
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/ExportBasicData'
                      total:
                        $ref: '#/components/schemas/SearchableTotalResponse2'
                    type: object
            "'401'":
              description: ""
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
      /api/{storeCode}/export/{type}:
        post:
          tags:
          - Export
          summary: Create an export
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: postExport
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - name: type
            in: path
            description: Export type
            required: true
            schema:
              type: string
              enum:
              - campaignCode
              - member
              - memberTier
              - memberSegment
              - rewardFulfillment
          requestBody:
            description: ""
            content:
              application/json:
                schema:
                  oneOf:
                  - $ref: '#/components/schemas/ExportCampaignCodeTypeRequestBody'
                  - $ref: '#/components/schemas/ExportMemberTypeRequestBody'
                  - $ref: '#/components/schemas/ExportMemberTierTypeRequestBody'
                  - $ref: '#/components/schemas/ExportMemberSegmentTypeRequestBody'
                  - $ref: '#/components/schemas/ExportRewardFulfillmentTypeRequestBody'
          responses:
            "'200'":
              description: ""
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/ExportId'
            "'400'":
              $ref: '#/components/responses/BadRequest'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
            "'404'":
              $ref: '#/components/responses/NotFound'

