nelmio_api_doc:
  documentation:
    paths:
      /api/{storeCode}/tierSet:
        get:
          tags:
          - Tier
          summary: Get tier sets list
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
            This method returns a list of all created TierSets in the system.
            Currently, it returns one available tierSet, but in the future, if the multi-tier sets created, it will return a list of all tierSets from the specific tenant (storeCode).
          operationId: _getTierSetList
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - name: name
            in: query
            required: false
            schema:
              type: string
          - name: active
            in: query
            description: Filter by active filed
            required: false
            schema:
              type: boolean
          - name: createdAt
            in: query
            required: false
            schema:
              type: string
              format: date-time
          - $ref: '#/components/parameters/page'
          - $ref: '#/components/parameters/itemsOnPage'
          - $ref: '#/components/parameters/orderBy'
          responses:
            "'200'":
              description: Tier set list.
              content:
                application/json:
                  schema:
                    required:
                    - items
                    - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/TierSetResponseList'
                      total:
                        $ref: '#/components/schemas/SearchableTotalResponse'
                    type: object
            "'401'":
              description: Unauthorized
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
        post:
          tags:
          - Tier
          summary: Add a tier set
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
            This method allows adding a new TierSet to the system.
          operationId: _tierSetPost
          parameters:
          - $ref: '#/components/parameters/storeCode'
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/PostTierSet'
          responses:
            "'200'":
              description: Successfully created tier set .
              content:
                application/json:
                  schema:
                    properties:
                      tierSetId:
                        description: Created tierSet identity
                        type: string
                        format: uuid
                        example: 00000000-0000-0000-0000-000000000000
                    type: object
            "'400'":
              $ref: '#/components/responses/BadRequest'
            "'401'":
              description: Unauthorized
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
      /api/{storeCode}/tierSet/{tierSet}:
        get:
          tags:
          - Tier
          summary: Get tier set’s details
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: _tierSetGet
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - $ref: '#/components/parameters/tierSet'
          responses:
            "'200'":
              description: Tier set details
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/TierSetResponse'
            "'401'":
              description: Unauthorized
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
            "'404'":
              $ref: '#/components/responses/NotFound'
        put:
          tags:
          - Tier
          summary: Update a tier set
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: _tierSetPut
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - $ref: '#/components/parameters/tierSet'
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/PutTierSet'
          responses:
            "'204'":
              $ref: '#/components/responses/NoContent'
            "'400'":
              $ref: '#/components/responses/BadRequest'
            "'401'":
              description: Unauthorized
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
            "'404'":
              $ref: '#/components/responses/NotFound'
      /api/{storeCode}/tierSet/{tierSet}/tiers:
        get:
          tags:
          - Tier
          summary: Get tiers list from a tier set
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
          operationId: _getTierSetTiers
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - $ref: '#/components/parameters/tierSet'
          - name: name
            in: query
            required: false
            schema:
              type: string
          - name: active
            in: query
            required: false
            schema:
              type: boolean
          - name: createdAt
            in: query
            required: false
            schema:
              type: string
              format: date-time
          - $ref: '#/components/parameters/page'
          - $ref: '#/components/parameters/itemsOnPage'
          - $ref: '#/components/parameters/orderBy'
          responses:
            "'200'":
              description: Tiers list
              content:
                application/json:
                  schema:
                    required:
                    - items
                    - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/TierSetTiersResponse'
                      total:
                        $ref: '#/components/schemas/SearchableTotalResponse'
                    type: object
            "'401'":
              description: Unauthorized
              content:
                application/json:
                  schema:
                    oneOf:
                    - $ref: '#/components/schemas/ExpiredToken'
                    - $ref: '#/components/schemas/InvalidToken'
                    - $ref: '#/components/schemas/Unauthorized'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
        put:
          tags:
          - Tier
          summary: Update existing tier list with conditions
          description: |
            <label style="background-color: #D4EDBC;padding:5px;">Management</label><br><br>
            Method allows to edit existing tier list with conditions.
          operationId: _tierPutList
          parameters:
          - $ref: '#/components/parameters/storeCode'
          - $ref: '#/components/parameters/tierSet'
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  required:
                  - tiers
                  properties:
                    tiers:
                      $ref: '#/components/schemas/TiersListPut'
                  type: object
          responses:
            "'204'":
              $ref: '#/components/responses/NoContent'
            "'400'":
              $ref: '#/components/responses/BadRequest'
            "'403'":
              $ref: '#/components/responses/AccessDenied'
            "'404'":
              $ref: '#/components/responses/NotFound'

